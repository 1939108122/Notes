#### 第 1 题：写 React / Vue 项目时为什么要在列表组件中写 key，其作用是什么？

> key的作用就是给每一个Vnode的唯一Id， 可以依靠key，更准确，更快的拿到oldVnode对应的vnode节点
1. 更准确
因为带key就不是就地复用了，在sameNode函数 a.key === b.key对比中可以避免就地复用的情况。所以会更加准确。

2. 更快
利用key的唯一性生成map对象来获取对应节点，比遍历方式更快。(这个观点，就是我最初的那个观点。从这个角度看，map会比遍历更快。)



**说到底，key的作用就是更新组件时判断两个节点是否相同。相同就复用，不相同就删除旧的创建新的。**

**正是因为带唯一key时每次更新都不能找到可复用的节点，不但要销毁和创建vnode，在DOM里添加移除节点对性能的影响更大。所以会才说“不带key可能性能更好**

**不加key有时候也会出错
加 key 是为了特异性识别 如果不加key 就相当于 你的元素里面没有加id 编号 做增删改查 只会默认按照排序索引进行增删改查 然后 就会导致业务逻辑 跟你的试图操作有出入 你会说 明明我勾选的是小红，新增了一个小明在列表的第一个后，勾选的确实位于小红前面的小白了**
https://www.jianshu.com/p/fcb98533bc18(参考)

## SPA
SPA(single page web application)
在传统的网站中，不用的页面之前的切换都是直接从服务器加载一整个新的页面，而在SPA这个模型中，是通过动态的重写页面的部分与用户交互，而避免了过多的数据交换，响应速度自然更快。
（例如知乎首页）
在知乎web首页，**有一些部分几乎是不会变的**，比如导航栏，当我们点击了一个问题，会进入到一个新的页面，在传统的网站中，**进入了新的页面会从服务器加载一整个新的页面**，而在SPA中，**只需要重写页面发生了变化的部分**。

常见的几个SPA框架：React VUE， Angular.

优点：1. 页面之间的切换非常快
      2. 一定程度上减少了后端服务器的压力（不用管页面逻辑和渲染）
      3. 后端程序只需要提供API，完全不用管客户端到底是Web界面还是手机等

缺点：首屏打开页面很慢，因为用户首次加载需要先下载SPA框架及应用程序的代码，然后再渲染页面。

## SEO

SEO(search engine optimization) 搜索引擎优化。SEO是一种通过了解搜索引擎的运作规则（如何抓取网站页面，如何索引以及如何根据特定的关键词展示搜索结果排序等），来调整网站，以提高该网站在搜索引擎中某些关键词的搜索结果排名。

## SEO和SPA的冲突
前面谈及的SPA不利于SEO， 因为就目前而言，部分搜索引擎如 Google，bing等，他们的爬虫虽然已经支持执行JS甚至是通过AJAX获取数据了，但对于异步数据的支持不足，VUE-SSR是这样说的：
`如果你的应用程序初始展示菊花图，然后通过Ajax获取内容，抓取工具并不会等待异步完成之后在进行抓取页面内容`
此时，则出现SSR解决问题

## SSR
简单理解来说是将组件或页面通过服务器渲染生成html字符串，再发送到浏览器，最后将静态标记"混合"为客户端上完全交互的应用程序


#### SSR的优势
1. 更利于SEO。

不同爬虫工作原理类似，只会爬取源码，不会执行网站的任何脚本（Google除外，据说Googlebot可以运行javaScript）。使用了React或者其它MVVM框架之后，页面大多数DOM元素都是在客户端根据js动态生成，可供爬虫抓取分析的内容大大减少。另外，浏览器爬虫不会等待我们的数据完成之后再去抓取我们的页面数据。服务端渲染返回给客户端的是已经获取了异步数据并执行JavaScript脚本的最终HTML，网络爬中就可以抓取到完整页面的信息。

2. 更利于首屏渲染（首屏加载快）

首屏的渲染是node发送过来的html字符串，并不依赖于js文件了，这就会使用户更快的看到页面的内容。尤其是针对大型单页应用，打包后文件体积比较大，普通客户端渲染加载所有所需文件时间较长，首页就会有一个很长的白屏等待时间。

SSR 模式下，后端拦截到路由，找到对应组件，准备渲染组件，所有的 JS 资源在本地，排除了 JS 资源的网络加载时间，接着只需要对当前路由的组件进行渲染，而页面的 ajax 请求，可能在同一台服务器上，如果是的话速度也会快很多。最后后端把渲染好的页面反回给前端。

注意：页面能很快的展示出来，但是由于当前返回的只是单纯展示的 DOM、CSS，其中的 JS 相关的事件等在客户端其实并没有绑定，所以最终还是需要 JS 加载完以后，对当前的页面再进行一次渲染，称为同构。  所以 SSR 就是更快的先展示出页面的内容，先让用户能够看到。


#### SSR的局限
1. 服务端压力较大
本来是通过客户端完成渲染，现在统一到服务端node服务去做。尤其是高并发访问的情况，会大量占用服务端CPU资源；

2. 开发条件受限
在服务端渲染中，只会执行到componentDidMount之前的生命周期钩子，因此项目引用的第三方的库也不可用其它生命周期钩子，这对引用库的选择产生了很大的限制；

3. 学习成本相对较高
除了对webpack、React要熟悉，还需要掌握node、Koa2等相关技术。相对于客户端渲染，项目构建、部署过程更加复杂。

 ### html渲染
服务端渲染是先向后端服务器请求数据，然后生成完整首屏html返回给浏览器；而客户端渲染是等js代码下载、加载、解析完成后再请求数据渲染，等待的过程页面是什么都没有的，就是用户看到的白屏。就是服务端渲染不需要等待js代码下载完成并请求数据，就可以返回一个已有完整数据的首屏页面。